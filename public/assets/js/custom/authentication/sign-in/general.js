"use strict";var KTSigninGeneral=function(){var t,e,r,i=function(i){r=FormValidation.formValidation(t,{fields:{email:{validators:{notEmpty:{message:"Email address is required"}}},password:{validators:{notEmpty:{message:"The password is required"}}}},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap:new FormValidation.plugins.Bootstrap5({rowSelector:".fv-row"})}}),e.addEventListener("click",function(i){i.preventDefault(),r.validate().then(function(r){if("Valid"==r){e.setAttribute("data-kt-indicator","on"),e.disabled=!0;var i=new FormData(t),n=$(t).attr("go");$.ajax({type:"POST",url:n,data:i,cache:!1,contentType:!1,processData:!1,success:function(r){e.removeAttribute("data-kt-indicator"),e.disabled=!1,Swal.fire({text:r.message,icon:r.status,showConfirmButton:!1,timer:1e3,timerProgressBar:!0}).then(function(e){var i=r.redirect??t.getAttribute("data-kt-redirect-url");i&&(location.href=i)})},error:function(t){e.removeAttribute("data-kt-indicator"),t.responseJSON.csrf&&$('[name="_token"]').val(t.responseJSON.csrf),e.disabled=!1,Swal.fire({text:t.responseJSON.message,icon:"error",showConfirmButton:!1,timer:1e3,timerProgressBar:!0})}})}else Swal.fire({text:"Sorry, looks like there are some errors detected, please try again.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})})})};return{init:function(){t=document.querySelector("#kt_sign_in_form"),e=document.querySelector("#kt_sign_in_submit"),i()}}}();KTUtil.onDOMContentLoaded(function(){KTSigninGeneral.init()});
